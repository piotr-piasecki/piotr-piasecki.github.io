<!DOCTYPE html>
<html title="Ansell messaging" lang="en">
<head>
    <title>Ansell messaging</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
</head>

<body>

<h1>Ansell messaging!</h1>
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">

<script type='text/javascript'>
    function initEmbeddedMessaging() {
        try {
            embeddedservice_bootstrap.settings.language = 'en_US'; // For example, enter 'en' or 'en-US'

            window.addEventListener("onEmbeddedMessagingReady", () => {
                console.log( "Inside Prechat API!!!" );
                embeddedservice_bootstrap.prechatAPI.setHiddenPrechatFields(
                    {
                        "Account_name" : "Western Digital"
                    }
                );

                embeddedservice_bootstrap.prechatAPI.setPrechatFields(
                    {
                        "_firstName" : "Western Digital",
                        "_FirstName" : "Western Digital",
                        "firstName" : "Western Digital",
                        "FirstName" : "Western Digital"
                    }
                );
                this.dispatchEvent(
                    new CustomEvent("prechatsubmit", {
                        detail: {
                            value: {
                                firstName: "bob",
                                lastname: "jones",
                                email: "bob.jones@gmail.com",
                            },
                        },
                    }),
                );
                // embeddedservice_bootstrap.settings.extraPrechatFormDetails = [{
                //     "label": "First Name",
                //     "value": "",
                //     "displayToAgent": true
                // }];
            });

            embeddedservice_bootstrap.init(
                '00Dp0000000AEjO',
                'Ansell_messaging',
                'https://myansell--ppiasdev.sandbox.my.site.com/ESWAnsellmessaging1691666597277',
                {
                    scrt2URL: 'https://myansell--ppiasdev.sandbox.my.salesforce-scrt.com'
                }
            );
        } catch (err) {
            console.error('Error loading Embedded Messaging: ', err);
        }
    };
</script>
<script type='text/javascript' src='https://myansell--ppiasdev.sandbox.my.site.com/ESWAnsellmessaging1691666597277/assets/js/bootstrap.min.js' onload='initEmbeddedMessaging()'></script>


<!--<script type='text/javascript' src='https://service.force.com/embeddedservice/menu/fab.min.js'></script>-->
<!--<script type='text/javascript'>-->
<!--    var initESW = function(gslbBaseURL) {-->
<!--        // Required if you want labels in a language that’s different from your user’s context.-->
<!--        //embedded_svc.menu.settings.language = ''; //For example, enter 'en' or 'en-US'-->

<!--        embedded_svc.menu.init(-->
<!--            'https://myansell&#45;&#45;ppiasdev.sandbox.my.salesforce.com',-->
<!--            'https://d.la1-c1cs-ukb.salesforceliveagent.com/chat',-->
<!--            gslbBaseURL,-->
<!--            '00Dp0000000AEjO',-->
<!--            'Messaging_channel_menu_deployment'-->
<!--        );-->
<!--    };-->

<!--    if (!window.embedded_svc || !window.embedded_svc.menu) {-->
<!--        var s = document.createElement('script');-->
<!--        s.setAttribute('src', 'https://myansell&#45;&#45;ppiasdev.sandbox.my.salesforce.com/embeddedservice/menu/fab.min.js');-->
<!--        s.onload = function() {-->
<!--            initESW(null);-->
<!--        };-->
<!--        document.body.appendChild(s);-->
<!--    } else {-->
<!--        initESW('https://service.force.com');-->
<!--    }-->
<!--</script>-->


</body>
</html>